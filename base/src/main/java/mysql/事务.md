# 事务四大特性（ACID）
1. 原子性(atomicity)
   + 一个事务是不可分割的工作单位，事务内的操作要么一起成功，要么一起失败
2. 一致性(consistency)
   + 一致性指的是事务必须使数据库从一个一致性状态变成另外一个一致性状态。
   + 事务执行前后都处于一致性状态
   + 例子：A和B转钱，不管怎么转，钱的总数一致。
3. 隔离性(isolation)：
   + 一个事务不能被其他事务干扰。
   + 即一个事务内部的操作及使用的数据在事务未提交之前，对其他事务是隔离的（不可见的），并发执行的各个事务之间不能互相影响。
4. 持久性(durability)：
   + 一个事务一旦提交成功，它修改的数据是永久性的
   
   
# 数据库事务的四种隔离级别
1. read_commit:读可提交
2. read_uncommit:读不可提交
   + 解决更新丢失问题
   + 当一个事务开始写操作时候，不支持其他事务对该数据进行写操作，但是支持其他事务对该数据进行读取操作
   + 改隔离级别可以有排他锁进行实现。
3. repeatable_read:可重复读
4. serializable:可串行读

隔离级别   |  脏读（Dirty Read）  | 不可重复读（NonRepeatable Read） | 幻读（Phantom Read）
---|---|---|---|
read_commit | 可能| 可能 | 可能
read_uncommit | 不可能 | 可能 | 可能
repeatable_read | 不可能 | 不可能 | 可能
serializable | 不可能 | 不可能 | 不可能


# 锁相关
1. 排他锁：X锁，写锁
2. 共享锁：S锁，读锁
3. 读和写的关系：
   + 一个事务对数据加了X锁，那个就可以对这个数据进行读取和更新，其他事务无法对这个数据加锁
   + 一个事务对数据加了S锁，可以对这个数据进行读取操作。加锁期间，其他事务可以对数据进行S锁，但是不能执行X锁。
4. 即读写锁之间的关系可以概括为：多读单写
   

 
 # 事务并发出现的问题
 1. 脏读
    + 当一个事务在处理的过程中读取到了其他事务未提交的数据，导致两个事务获得的数据不一致。
 2. 幻读
    + 
 3. 不可重复读
    + 在一个事务处理的过程中，多次查询一批数据（条件相同），但是得到的结果不一致。这是由于在查询间隔，
    该事务需要用到的数据被另一个事务修改并提交了。
    + 与脏读的区别是，脏读读取的是另一个事务未提交的数据；不可重复读，读取的是另外一个事务已经读取的数据。